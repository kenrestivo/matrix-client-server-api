<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>matrix-client-server-api.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Matrix-client-server-api</span> <span class="project-version">r0.3.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>matrix-client-server-api</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></div></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.device-management.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>device-management</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.end-to-end-encryption.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>end-to-end-encryption</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.media.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>media</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.presence.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>presence</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.push-notifications.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>push-notifications</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.room-creation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>room-creation</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.room-directory.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>room-directory</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.room-discovery.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>room-discovery</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.room-membership.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>room-membership</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.room-participation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>room-participation</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.search.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>search</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.send-to-device-messaging.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>send-to-device-messaging</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.server-administration.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server-administration</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.session-management.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>session-management</span></div></a></li><li class="depth-3 branch"><a href="matrix-client-server-api.api.user-data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user-data</span></div></a></li><li class="depth-3"><a href="matrix-client-server-api.api.voip.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>voip</span></div></a></li><li class="depth-2 current"><a href="matrix-client-server-api.core.html"><div class="inner"><span class="tree" style="top: -517px;"><span class="top" style="height: 526px;"></span><span class="bottom"></span></span><span>core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="matrix-client-server-api.core.html#var-*api-context*"><div class="inner"><span>*api-context*</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-auth-.3Eopts"><div class="inner"><span>auth-&gt;opts</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-auth-definitions"><div class="inner"><span>auth-definitions</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-auths-.3Eopts"><div class="inner"><span>auths-&gt;opts</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-call-api"><div class="inner"><span>call-api</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-check-required-params"><div class="inner"><span>check-required-params</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-default-api-context"><div class="inner"><span>default-api-context</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-deserialize"><div class="inner"><span>deserialize</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-form-params-.3Emultipart"><div class="inner"><span>form-params-&gt;multipart</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-format-date"><div class="inner"><span>format-date</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-format-datetime"><div class="inner"><span>format-datetime</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-json-mime.3F"><div class="inner"><span>json-mime?</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-json-preferred-mime"><div class="inner"><span>json-preferred-mime</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-make-url"><div class="inner"><span>make-url</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-normalize-array-param"><div class="inner"><span>normalize-array-param</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-normalize-param"><div class="inner"><span>normalize-param</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-normalize-params"><div class="inner"><span>normalize-params</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-param-.3Estr"><div class="inner"><span>param-&gt;str</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-parse-date"><div class="inner"><span>parse-date</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-parse-datetime"><div class="inner"><span>parse-datetime</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-process-auth"><div class="inner"><span>process-auth</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-serialize"><div class="inner"><span>serialize</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-with-api-context"><div class="inner"><span>with-api-context</span></div></a></li><li class="depth-1"><a href="matrix-client-server-api.core.html#var-with-collection-format"><div class="inner"><span>with-collection-format</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">matrix-client-server-api.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*api-context*"><h3>*api-context*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Dynamic API context to be applied in API calls.
</pre></div></div><div class="public anchor" id="var-auth-.3Eopts"><h3>auth-&gt;opts</h3><div class="usage"><code>(auth-&gt;opts {:keys [type in param-name]} value)</code></div><div class="doc"><pre class="plaintext">Process the given auth to an option map that might conatin request options and parameters.
</pre></div></div><div class="public anchor" id="var-auth-definitions"><h3>auth-definitions</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-auths-.3Eopts"><h3>auths-&gt;opts</h3><div class="usage"><code>(auths-&gt;opts auth-names)</code></div><div class="doc"><pre class="plaintext">Process the given auth names to an option map that might conatin request options and parameters.
</pre></div></div><div class="public anchor" id="var-call-api"><h3>call-api</h3><div class="usage"><code>(call-api path method {:keys [path-params body-param content-types accepts auth-names], :as opts})</code></div><div class="doc"><pre class="plaintext">Call an API by making HTTP request and return its response.
</pre></div></div><div class="public anchor" id="var-check-required-params"><h3>check-required-params</h3><h4 class="type">macro</h4><div class="usage"><code>(check-required-params &amp; params)</code></div><div class="doc"><pre class="plaintext">Throw exception if any of the given parameters is nil.
</pre></div></div><div class="public anchor" id="var-default-api-context"><h3>default-api-context</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Default API context.
</pre></div></div><div class="public anchor" id="var-deserialize"><h3>deserialize</h3><div class="usage"><code>(deserialize {:keys [body], {:keys [content-type]} :headers})</code></div><div class="doc"><pre class="plaintext">Deserialize the given HTTP response according to the Content-Type header.
</pre></div></div><div class="public anchor" id="var-form-params-.3Emultipart"><h3>form-params-&gt;multipart</h3><div class="usage"><code>(form-params-&gt;multipart form-params)</code></div><div class="doc"><pre class="plaintext">Convert the given form parameters map into a vector as clj-http's :multipart option.
</pre></div></div><div class="public anchor" id="var-format-date"><h3>format-date</h3><div class="usage"><code>(format-date date)</code></div><div class="doc"><pre class="plaintext">Format the given Date object with the :date-format defined in *api-options*.
NOTE: The UTC time zone is used.</pre></div></div><div class="public anchor" id="var-format-datetime"><h3>format-datetime</h3><div class="usage"><code>(format-datetime date)</code><code>(format-datetime date time-zone)</code></div><div class="doc"><pre class="plaintext">Format the given Date object with the :datetime-format defined in *api-options*.
NOTE: The system's default time zone is used when not provided.</pre></div></div><div class="public anchor" id="var-json-mime.3F"><h3>json-mime?</h3><div class="usage"><code>(json-mime? mime)</code></div><div class="doc"><pre class="plaintext">Check if the given MIME is a standard JSON MIME or :json.
</pre></div></div><div class="public anchor" id="var-json-preferred-mime"><h3>json-preferred-mime</h3><div class="usage"><code>(json-preferred-mime mimes)</code></div><div class="doc"><pre class="plaintext">Choose a MIME from the given MIMEs with JSON preferred,
i.e. return JSON if included, otherwise return the first one.</pre></div></div><div class="public anchor" id="var-make-url"><h3>make-url</h3><div class="usage"><code>(make-url path path-params)</code></div><div class="doc"><pre class="plaintext">Make full URL by adding base URL and filling path parameters.
</pre></div></div><div class="public anchor" id="var-normalize-array-param"><h3>normalize-array-param</h3><div class="usage"><code>(normalize-array-param xs)</code></div><div class="doc"><pre class="plaintext">Normalize array paramater according to :collection-format specified in the parameter's meta data.
When the parameter contains File, a seq is returned so as to keep File parameters.
For :multi collection format, a seq is returned which will be handled properly by clj-http.
For other cases, a string is returned.</pre></div></div><div class="public anchor" id="var-normalize-param"><h3>normalize-param</h3><div class="usage"><code>(normalize-param param)</code></div><div class="doc"><pre class="plaintext">Normalize parameter value, handling three cases:
for sequential value, apply `normalize-array-param` which handles collection format;
for File value, use current value;
otherwise, apply `param-&gt;str`.</pre></div></div><div class="public anchor" id="var-normalize-params"><h3>normalize-params</h3><div class="usage"><code>(normalize-params params)</code></div><div class="doc"><pre class="plaintext">Normalize parameters values: remove nils, format to string with `param-&gt;str`.
</pre></div></div><div class="public anchor" id="var-param-.3Estr"><h3>param-&gt;str</h3><div class="usage"><code>(param-&gt;str param)</code></div><div class="doc"><pre class="plaintext">Format the given parameter value to string.
</pre></div></div><div class="public anchor" id="var-parse-date"><h3>parse-date</h3><div class="usage"><code>(parse-date s)</code></div><div class="doc"><pre class="plaintext">Parse the given string to a Date object with the :date-format defined in *api-options*.
NOTE: The UTC time zone is used.</pre></div></div><div class="public anchor" id="var-parse-datetime"><h3>parse-datetime</h3><div class="usage"><code>(parse-datetime s)</code><code>(parse-datetime s time-zone)</code></div><div class="doc"><pre class="plaintext">Parse the given string to a Date object with the :datetime-format defined in *api-options*.
NOTE: The system's default time zone is used when not provided.</pre></div></div><div class="public anchor" id="var-process-auth"><h3>process-auth</h3><div class="usage"><code>(process-auth opts auth-name)</code></div><div class="doc"><pre class="plaintext">Process the given auth name into options, which is merged into the given opts.
</pre></div></div><div class="public anchor" id="var-serialize"><h3>serialize</h3><div class="usage"><code>(serialize data content-type)</code></div><div class="doc"><pre class="plaintext">Serialize the given data according to content-type.
Only JSON is supported for now.</pre></div></div><div class="public anchor" id="var-with-api-context"><h3>with-api-context</h3><h4 class="type">macro</h4><div class="usage"><code>(with-api-context api-context &amp; body)</code></div><div class="doc"><pre class="plaintext">A helper macro to wrap *api-context* with default values.
</pre></div></div><div class="public anchor" id="var-with-collection-format"><h3>with-collection-format</h3><div class="usage"><code>(with-collection-format param collection-format)</code></div><div class="doc"><pre class="plaintext">Attach collection-format to meta data of the given parameter.
</pre></div></div></div></body></html>